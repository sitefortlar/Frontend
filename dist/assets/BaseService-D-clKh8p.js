var h=Object.defineProperty;var p=(t,r,e)=>r in t?h(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var i=(t,r,e)=>p(t,typeof r!="symbol"?r+"":r,e);import{r as o,j as u,J as m,i as w,p as E,k as f}from"./index-hV2YQk7K.js";var b="Label",d=o.forwardRef((t,r)=>u.jsx(m.label,{...t,ref:r,onMouseDown:e=>{var a;e.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));d.displayName=b;var l=d;const g=E("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=o.forwardRef(({className:t,...r},e)=>u.jsx(l,{ref:e,className:w(g(),t),...r}));y.displayName=l.displayName;function x(t){const r=o.useRef({value:t,previous:t});return o.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}class U{constructor(r,e=f){i(this,"baseUrl");i(this,"client");this.baseUrl=r,this.client=e}async get(r,e){try{return(await this.client.get(`${this.baseUrl}${r}`,{params:e})).data}catch(s){throw this.handleError(s)}}async post(r,e){try{return(await this.client.post(`${this.baseUrl}${r}`,e)).data}catch(s){throw this.handleError(s)}}async put(r,e){try{return(await this.client.put(`${this.baseUrl}${r}`,e)).data}catch(s){throw this.handleError(s)}}async patch(r,e){try{return(await this.client.patch(`${this.baseUrl}${r}`,e)).data}catch(s){throw this.handleError(s)}}async delete(r){try{return(await this.client.delete(`${this.baseUrl}${r}`)).data}catch(e){throw this.handleError(e)}}handleError(r){var n,c;const e=(n=r.response)==null?void 0:n.status,s=(c=r.response)==null?void 0:c.data,a=(s==null?void 0:s.message)||r.message||"Erro desconhecido";switch(e){case 400:return new Error(`Dados inválidos: ${a}`);case 401:return new Error("Não autorizado. Faça login novamente.");case 403:return new Error("Acesso negado.");case 404:return new Error("Recurso não encontrado.");case 409:return new Error("Conflito: o recurso já existe.");case 422:return new Error(`Dados inválidos: ${a}`);case 429:return new Error("Muitas tentativas. Aguarde um momento.");case 500:return new Error("Erro interno do servidor. Tente novamente mais tarde.");case 502:case 503:case 504:return new Error("Serviço temporariamente indisponível. Tente novamente mais tarde.");default:return new Error(`Erro de conexão: ${a}`)}}buildQueryString(r){const e=new URLSearchParams;return Object.entries(r).forEach(([s,a])=>{a!=null&&a!==""&&(Array.isArray(a)?a.forEach(n=>e.append(s,String(n))):e.append(s,String(a)))}),e.toString()}}export{U as B,y as L,x as u};
